# GitHub Pages React App Architecture Guide

This document provides a complete guide for recreating the architecture and setup used in the `R*Squad` leaderboard project for deploying React applications to GitHub Pages.

## ğŸ—ï¸ Project Structure

```
rsquad/ (repository root)
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ deploy.yaml              # GitHub Actions deployment workflow
â”œâ”€â”€ rsquad/ (main application directory)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.tsx                 # Main React component
â”‚   â”‚   â”œâ”€â”€ App.css                 # Component-specific styles
â”‚   â”‚   â”œâ”€â”€ index.css               # Global styles
â”‚   â”‚   â”œâ”€â”€ main.tsx                # React entry point
â”‚   â”‚   â””â”€â”€ vite-env.d.ts          # Vite type definitions
â”‚   â”œâ”€â”€ public/                     # Static assets
â”‚   â”‚   â”œâ”€â”€ favicon.png             # Site favicon
â”‚   â”‚   â””â”€â”€ [other-images].png      # Additional static images
â”‚   â”œâ”€â”€ dist/ (generated by build)  # Build output directory
â”‚   â”œâ”€â”€ package.json               # Dependencies and scripts
â”‚   â”œâ”€â”€ vite.config.ts             # Vite configuration
â”‚   â”œâ”€â”€ tsconfig.json              # TypeScript configuration
â”‚   â”œâ”€â”€ tsconfig.app.json          # App-specific TypeScript config
â”‚   â”œâ”€â”€ tsconfig.node.json         # Node-specific TypeScript config
â”‚   â”œâ”€â”€ eslint.config.js           # ESLint configuration
â”‚   â”œâ”€â”€ bun.lock                   # Bun lock file
â”‚   â””â”€â”€ index.html                 # HTML template
â”œâ”€â”€ README.md                       # Project documentation
â”œâ”€â”€ LICENSE                        # License file
â””â”€â”€ ARCHITECTURE_GUIDE.md          # This guide
```

## ğŸ”§ Technology Stack

- **Frontend Framework**: React 19+ with TypeScript
- **Build Tool**: Vite 6+
- **Package Manager**: Bun (with npm/yarn alternatives)
- **Deployment**: GitHub Actions â†’ GitHub Pages
- **Styling**: Pure CSS (no framework dependencies)

## âš™ï¸ Critical Configuration Files

### 1. GitHub Actions Workflow (`.github/workflows/deploy.yaml`)

```yaml
name: Deploy to GitHub Pages

on:
  push:
    branches: ["main"]
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: "pages"
  cancel-in-progress: true

jobs:
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Setup Bun
        uses: oven-sh/setup-bun@v2
      - name: Install dependencies
        run: cd rsquad && bun install
      - name: Build
        run: cd rsquad && bun run build
      - name: Setup Pages
        uses: actions/configure-pages@v5
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: "./rsquad/dist"
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```

**Key Points:**

- Replace `rsquad` with your app directory name
- Builds from subdirectory, not repo root
- Uses Bun by default (see alternatives below)

### 2. Vite Configuration (`rsquad/vite.config.ts`)

```typescript
import { defineConfig } from "vite";
import react from "@vitejs/plugin-react";

// https://vite.dev/config/
export default defineConfig({
  plugins: [react()],
  base: "/rsquad/", // CRITICAL: Must match repository name
});
```

**Critical Setting:**

- `base: "/your-repo-name/"` - Must match your GitHub repository name exactly
- This ensures assets load correctly on GitHub Pages subdirectory deployment

### 3. Package.json Scripts (`rsquad/package.json`)

```json
{
  "name": "your-app-name",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc -b && vite build",
    "lint": "eslint .",
    "preview": "vite preview"
  },
  "dependencies": {
    "react": "^19.0.0",
    "react-dom": "^19.0.0"
  },
  "devDependencies": {
    "@eslint/js": "^9.22.0",
    "@types/react": "^19.0.10",
    "@types/react-dom": "^19.0.4",
    "@vitejs/plugin-react": "^3.8.0",
    "eslint": "^9.22.0",
    "eslint-plugin-react-hooks": "^5.2.0",
    "eslint-plugin-react-refresh": "^0.4.19",
    "globals": "^16.0.0",
    "typescript": "~5.7.2",
    "typescript-eslint": "^8.26.1",
    "vite": "^6.3.1"
  }
}
```

### 4. HTML Template (`rsquad/index.html`)

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/your-favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Your App Title</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
```

## ğŸ¨ Styling Architecture

### Global Styles (`rsquad/src/index.css`)

```css
:root {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    "Helvetica Neue", Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;

  color: #ffffff;
  background-color: #000000;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
  background: #000000;
}

#root {
  width: 100%;
  min-height: 100vh;
}
```

### Component Styles (`rsquad/src/App.css`)

Key patterns used:

- **Mobile-first responsive design** with `@media (max-width: 600px)`
- **CSS Grid/Flexbox** for layouts
- **CSS Custom Properties** for consistent colors
- **Gradient backgrounds** for visual appeal
- **Box shadows** for depth
- **Hover effects** for interactivity

## ğŸ–¼ï¸ Asset Management

### Image Imports in React Components

```typescript
// Import images from public directory
import logoImage from "/logo.png";
import iconImage from "/icon.png";

// Use in JSX
<img src={logoImage} alt="Logo" className="logo" />;
```

**Why This Approach:**

- Vite processes imports and generates correct paths
- Works with the `base` path configuration
- Images are optimized during build
- Proper caching and hashing

### Favicon Setup

1. Place favicon in `public/` directory
2. Reference in `index.html`: `<link rel="icon" type="image/png" href="/favicon.png" />`
3. Favicon will work correctly with subdirectory deployment

## ğŸš€ Deployment Process

### Step-by-Step Setup

1. **Create Repository Structure:**

   ```bash
   mkdir your-app-name
   cd your-app-name
   mkdir -p .github/workflows
   mkdir your-app-dir
   ```

2. **Initialize React App:**

   ```bash
   cd your-app-dir
   bun create vite . --template react-ts
   ```

3. **Update Vite Config:**

   - Set `base: "/your-repo-name/"`

4. **Create GitHub Actions Workflow:**

   - Copy `deploy.yaml` and update directory references

5. **Enable GitHub Pages:**

   - Go to repository Settings â†’ Pages
   - Set Source to "GitHub Actions"

6. **Deploy:**
   - Push to main branch
   - GitHub Actions builds and deploys automatically

### Alternative Package Managers

#### Using npm:

```yaml
- name: Setup Node.js
  uses: actions/setup-node@v4
  with:
    node-version: "lts/*"
    cache: "npm"
    cache-dependency-path: "./your-app-dir/package-lock.json"
- name: Install dependencies
  run: cd your-app-dir && npm ci
- name: Build
  run: cd your-app-dir && npm run build
```

#### Using yarn:

```yaml
- name: Setup Node.js
  uses: actions/setup-node@v4
  with:
    node-version: "lts/*"
    cache: "yarn"
    cache-dependency-path: "./your-app-dir/yarn.lock"
- name: Install dependencies
  run: cd your-app-dir && yarn install --frozen-lockfile
- name: Build
  run: cd your-app-dir && yarn build
```

## ğŸ› Common Issues & Solutions

### 1. Assets Not Loading (404 errors)

**Problem:** Images, CSS, or JS files return 404 on GitHub Pages
**Solution:** Verify `base` path in `vite.config.ts` matches repository name exactly

### 2. Blank Page After Deployment

**Problem:** Site deploys but shows blank page
**Solutions:**

- Check browser console for errors
- Verify `base` path configuration
- Ensure build completed successfully in GitHub Actions

### 3. GitHub Actions Build Fails

**Common Causes:**

- Missing `package.json` in subdirectory
- Incorrect directory paths in workflow
- TypeScript errors preventing build
- Missing dependencies

### 4. Vite Version Compatibility

**Problem:** Node.js version warnings
**Solution:** Use Node.js 20.19+ or 22.12+ (update in GitHub Actions if needed)

## ğŸ“± Responsive Design Patterns

### Mobile-First CSS Structure

```css
/* Mobile styles (default) */
.container {
  padding: 1rem;
}

/* Desktop styles */
@media (min-width: 768px) {
  .container {
    padding: 2rem;
    max-width: 800px;
    margin: 0 auto;
  }
}
```

### Common Responsive Patterns Used

1. **Flexible containers** with `max-width` and `margin: 0 auto`
2. **Responsive font sizes** using `rem` units
3. **Flexible images** with `max-width: 100%` and `height: auto`
4. **Stack-to-row layouts** using flexbox direction changes
5. **Responsive spacing** with different padding/margins per breakpoint

## ğŸ¯ Key Success Factors

### For GitHub Pages Deployment:

1. **Subdirectory structure** (app code not in repo root)
2. **Correct base path** in Vite config
3. **GitHub Actions workflow** properly configured
4. **GitHub Pages enabled** with "GitHub Actions" source

### For Development Experience:

1. **TypeScript** for type safety
2. **ESLint** for code quality
3. **Vite** for fast development and building
4. **Modern CSS** for styling without framework overhead

### For Performance:

1. **Asset optimization** through Vite build process
2. **Code splitting** (automatic with Vite)
3. **Tree shaking** for smaller bundle sizes
4. **Image optimization** through proper imports

## ğŸ“ Customization Guidelines

### For Quiz App Adaptation:

1. **Replace leaderboard logic** with quiz state management
2. **Update styling** to match quiz UI needs
3. **Modify data structure** from students/points to questions/answers
4. **Change components** from leaderboard cards to quiz interface
5. **Update content** in header/footer for quiz context

### Recommended Component Structure for Quiz App:

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Quiz/
â”‚   â”‚   â”œâ”€â”€ QuizComponent.tsx
â”‚   â”‚   â”œâ”€â”€ Question.tsx
â”‚   â”‚   â”œâ”€â”€ Answer.tsx
â”‚   â”‚   â””â”€â”€ Results.tsx
â”‚   â””â”€â”€ UI/
â”‚       â”œâ”€â”€ Header.tsx
â”‚       â”œâ”€â”€ Footer.tsx
â”‚       â””â”€â”€ Button.tsx
â”œâ”€â”€ data/
â”‚   â””â”€â”€ questions.ts
â”œâ”€â”€ types/
â”‚   â””â”€â”€ quiz.ts
â”œâ”€â”€ App.tsx
â”œâ”€â”€ App.css
â””â”€â”€ main.tsx
```

## ğŸ”— Reference Implementation

**Live Example:** https://[username].github.io/rsquad/
**Source Code:** This repository serves as the complete reference implementation

---

**Note:** This architecture guide is based on the working `R*Squad` leaderboard implementation and has been tested for GitHub Pages deployment. Follow the patterns established here for consistent results.
